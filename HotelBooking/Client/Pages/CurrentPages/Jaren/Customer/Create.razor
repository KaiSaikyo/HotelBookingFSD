@page "/customer/create"
@using HotelBooking.Client.Components
@inject HttpClient _client
@inject NavigationManager _navManager
@attribute [Authorize]

<PageTitle>RoomScout.Org - Create Customers</PageTitle>

<FormComponent ButtonText="Create Customer" customer="customer" OnValidSubmit="@CreateCustomer" />

@code {
	private Customer customer = new Customer();

	private async Task CreateCustomer()
	{
		await _client.PostAsJsonAsync(Endpoints.CustomersEndpoint, customer);
		_navManager.NavigateTo("/customer/");
	}
}